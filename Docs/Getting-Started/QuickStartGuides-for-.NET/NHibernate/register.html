<html dir="ltr" xmlns:o>
	<head>
		<title>Using NHibernate </title>
		<meta http-equiv="Content-Type" content="text/html; charset=Windows-1252">
		<meta name="vs_targetSchema" content="http://schemas.microsoft.com/intellisense/ie5">
		<link rel="stylesheet" type="text/css" href="../../MSDN.css">
	    <style type="text/css">
<!--
p.MsoNormal {
margin:0in;
margin-bottom:.0001pt;
font-size:12.0pt;
font-family:"Times New Roman";
}
-->
        </style>
	</head>
	<body id="bodyID" class="dtBODY">
		<div id="nsbanner">
			<div id="bannerrow1">
				<table class="bannerparthead" cellspacing="0">
					<tr id="hdr">
						<td class="runninghead">Alachisoft NCache 4.4</td>
						 
					</tr>
				</table>
			</div>
			<div id="TitleRow">
				<h1 class="dtH1">Step 2: Register NCache with NHibernate</h1>
			</div>
		</div>
		<div id="nstext">
			    <P>
			To register NCache with NHibernate, edit app.config or web.config as follows:<br>
			   <br> <ol>
			      <li>Register 'nhibernate' and 'ncache' configuration sections in the &lt;configSections&gt; of the   web.config or app.config as follows:		          </li>
			    <br>  <br>    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">
        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            &lt;</span><span style="font-size: 10pt; color: maroon; font-family: 'Courier New';
                mso-no-proof: yes">configSections</span><span style="font-size: 10pt; color: blue;
                    font-family: 'Courier New'; mso-no-proof: yes">&gt;<o:p></o:p></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">
        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; </span>&lt;</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">section</span><span
                    style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
                </span><span style="font-size: 10pt; color: red; font-family: 'Courier New'; mso-no-proof: yes">
                    name</span><span style="font-size: 10pt; color: blue; font-family: 'Courier New';
                        mso-no-proof: yes"> = </span><span style="font-size: 10pt; font-family: 'Courier New';
                            mso-no-proof: yes">"<span style="color: blue">hibernate-configuration</span>"<span
                                style="color: blue"> </span><span style="color: red">type</span><span style="color: blue">
                                    = </span>"<span style="color: blue">NHibernate.Cfg.ConfigurationSectionHandler, NHibernate</span>"<span
                                        style="color: blue">/&gt;<o:p></o:p></span></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">
        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; </span>&lt;</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">section</span><span
                    style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
                </span><span style="font-size: 10pt; color: red; font-family: 'Courier New'; mso-no-proof: yes">
                    name</span><span style="font-size: 10pt; color: blue; font-family: 'Courier New';
                        mso-no-proof: yes"> = </span><span style="font-size: 10pt; font-family: 'Courier New';
                            mso-no-proof: yes">"<span style="color: blue">ncache</span>"<span style="color: blue">
                            </span><span style="color: red">type</span><span style="color: blue"> = </span>"<span
                                style="color: blue">Alachisoft.NCache.Integrations.NHibernate.Cache.NCacheSection,
                                <o:p></o:p>
                            </span></span>
    </p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">
        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            Alachisoft.NCache.Integrations.NHibernate.Cache</span><span style="font-size: 10pt;
                font-family: 'Courier New'; mso-no-proof: yes">"<span style="color: blue">/&gt;<o:p></o:p></span></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 10pt">
        <span style="font-size: 10pt; color: blue; line-height: 115%; font-family: 'Courier New';
            mso-no-proof: yes">&lt;/</span><span style="font-size: 10pt; color: maroon; line-height: 115%;
                font-family: 'Courier New'; mso-no-proof: yes">configSections</span><span style="font-size: 10pt;
                    color: blue; line-height: 115%; font-family: 'Courier New'; mso-no-proof: yes">&gt;</span></p>
		            
			     <br><li>Define section details for &lt;nhibernate&gt; as follows:<br>
<br>
			           <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">
        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            &lt;</span><span style="font-size: 10pt; color: maroon; font-family: 'Courier New';
                mso-no-proof: yes">hibernate-configuration</span><span style="font-size: 10pt; color: blue;
                    font-family: 'Courier New'; mso-no-proof: yes"> </span><span style="font-size: 10pt;
                        color: red; font-family: 'Courier New'; mso-no-proof: yes">xmlns</span><span style="font-size: 10pt;
                            color: blue; font-family: 'Courier New'; mso-no-proof: yes"> = </span>
        <span style="font-size: 10pt; font-family: 'Courier New'; mso-no-proof: yes">"<span
            style="color: blue">urn:nhibernate-configuration-2.2</span>"<span style="color: blue">&gt;<o:p></o:p></span></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; </span>&lt;</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">session-factory</span><span
                    style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">&gt;<o:p></o:p></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; &nbsp; </span>&lt;</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">property</span><span
                    style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
                </span><span style="font-size: 10pt; color: red; font-family: 'Courier New'; mso-no-proof: yes">
                    name</span><span style="font-size: 10pt; color: blue; font-family: 'Courier New';
                        mso-no-proof: yes"> = </span><span style="font-size: 10pt; font-family: 'Courier New';
                            mso-no-proof: yes">"<span style="color: blue">cache.provider_class</span>"<span style="color: blue">
                                &gt;</span> Alachisoft.NCache.Integrations.NHibernate.Cache.NCacheProvider,
                    Alachisoft.NCache.Integrations.NHibernate.Cache <span style="color: blue">&lt;/</span><span
                                style="color: maroon">property</span><span style="color: blue">&gt;<o:p></o:p></span></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; </span>&lt;/</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">session-factory</span><span
                    style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">&gt;<o:p></o:p></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 10pt">        <span style="font-size: 10pt; color: blue; line-height: 115%; font-family: 'Courier New';
            mso-no-proof: yes">&lt;/</span><span style="font-size: 10pt; color: maroon; line-height: 115%;
                font-family: 'Courier New'; mso-no-proof: yes">hibernate-configuration</span><span
                    style="font-size: 10pt; color: blue; line-height: 115%; font-family: 'Courier New';
                    mso-no-proof: yes">&gt;</span></p>
			
			      </li>
	      
			     <br> <li>Define section details for &lt;ncache&gt; as follows:<br>
		
	                <br>  <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">
        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            &lt;</span><span style="font-size: 10pt; color: maroon; font-family: 'Courier New';
                mso-no-proof: yes">ncache</span><span style="font-size: 10pt; color: blue; font-family: 'Courier New';
                    mso-no-proof: yes">&gt;<o:p></o:p></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; </span>&lt;</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">region</span><span
                    style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
                </span><span style="font-size: 10pt; color: red; font-family: 'Courier New'; mso-no-proof: yes">
                   name</span><span style="font-size: 10pt; color: blue; font-family: 'Courier New';
                        mso-no-proof: yes"> = </span><span style="font-size: 10pt; font-family: 'Courier New';
                            mso-no-proof: yes">"<span style="color: blue">default</span>"<span style="color: blue">&gt;<o:p></o:p></span></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">
        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; &nbsp; </span>&lt;</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">add</span><span style="font-size: 10pt;
                    color: blue; font-family: 'Courier New'; mso-no-proof: yes"> </span>        <span style="font-size: 10pt; color: red; font-family: 'Courier New'; mso-no-proof: yes">
            key</span><span style="font-size: 10pt; color: blue; font-family: 'Courier New';
                mso-no-proof: yes"> = </span><span style="font-size: 10pt; font-family: 'Courier New';
                    mso-no-proof: yes">"<span style="color: blue">cacheName </span>"<span style="color: blue">
                   </span><span style="color: red">value</span><span style="color: blue"> =</span>"<span
                        style="color: blue"> mycache</span>"<span style="color: blue">/&gt;<o:p></o:p></span></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">
        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; &nbsp; </span>&lt;</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">add</span><span style="font-size: 10pt;
                    color: blue; font-family: 'Courier New'; mso-no-proof: yes"> </span>        <span style="font-size: 10pt; color: red; font-family: 'Courier New'; mso-no-proof: yes">
            key</span><span style="font-size: 10pt; color: blue; font-family: 'Courier New';
                mso-no-proof: yes"> = </span><span style="font-size: 10pt; font-family: 'Courier New';
                    mso-no-proof: yes">"<span style="color: blue">enableCacheException</span>"<span style="color: blue">
                    </span><span style="color: red">value</span><span style="color: blue"> = </span>
                   "<span style="color: blue">false</span>"<span style="color: blue">/&gt;<o:p></o:p></span></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">
        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; &nbsp; </span>&lt;</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">class</span><span style="font-size: 10pt;
                    color: blue; font-family: 'Courier New'; mso-no-proof: yes"> </span>        <span style="font-size: 10pt; color: red; font-family: 'Courier New'; mso-no-proof: yes">
            name</span><span style="font-size: 10pt; color: blue; font-family: 'Courier New';
                mso-no-proof: yes"> = </span><span style="font-size: 10pt; font-family: 'Courier New';
                    mso-no-proof: yes">"<span style="color: blue">nhibernator.BLL.Customer</span>"<span
                        style="color: blue">&gt;<o:p></o:p></span></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">
        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; &nbsp; &nbsp; </span>&lt;</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">add</span><span style="font-size: 10pt;
                    color: blue; font-family: 'Courier New'; mso-no-proof: yes"> </span>        <span style="font-size: 10pt; color: red; font-family: 'Courier New'; mso-no-proof: yes">
            key</span><span style="font-size: 10pt; color: blue; font-family: 'Courier New';
                mso-no-proof: yes"> = </span><span style="font-size: 10pt; font-family: 'Courier New';
                    mso-no-proof: yes">"<span style="color: blue">priority</span>"<span style="color: blue">
                    </span><span style="color: red">value</span><span style="color: blue"> = </span>
                   "<span style="color: blue">1</span>"<span style="color: blue">/&gt;<o:p></o:p></span></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">
        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; &nbsp; &nbsp; </span>&lt;</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">add</span><span style="font-size: 10pt;
                    color: blue; font-family: 'Courier New'; mso-no-proof: yes"> </span>        <span style="font-size: 10pt; color: red; font-family: 'Courier New'; mso-no-proof: yes">
            key</span><span style="font-size: 10pt; color: blue; font-family: 'Courier New';
                mso-no-proof: yes"> = </span><span style="font-size: 10pt; font-family: 'Courier New';
                    mso-no-proof: yes">"<span style="color: blue">useAsync</span>"<span style="color: blue">
                    </span><span style="color: red">value</span><span style="color: blue"> = </span>
                   "<span style="color: blue">false</span>"<span style="color: blue">/&gt;<o:p></o:p></span></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">
        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; &nbsp; &nbsp; </span>&lt;</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">add</span><span style="font-size: 10pt;
                    color: blue; font-family: 'Courier New'; mso-no-proof: yes"> </span>        <span style="font-size: 10pt; color: red; font-family: 'Courier New'; mso-no-proof: yes">
            key</span><span style="font-size: 10pt; color: blue; font-family: 'Courier New';
                mso-no-proof: yes"> = </span><span style="font-size: 10pt; font-family: 'Courier New';
                    mso-no-proof: yes">"<span style="color: blue">relativeExpiration</span>"<span style="color: blue">
                    </span><span style="color: red">value</span><span style="color: blue"> = </span>
                    "<span style="color: blue">180</span>"<span style="color: blue">/&gt;</span> or
                    <span style="color: blue">&lt;</span><span style="color: maroon">add</span><span
                        style="color: blue"> </span><span style="color: red">key</span><span style="color: blue">
                            = </span>"<span style="color: blue">staticExpiration</span>"<span style="color: blue">
                            </span><span style="color: red">value</span><span style="color: blue"> = </span>
                   "<span style="color: blue">100</span>"<span style="color: blue">/&gt;<o:p></o:p></span></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; &nbsp; </span>&lt;/</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">class</span><span style="font-size: 10pt;
                    color: blue; font-family: 'Courier New'; mso-no-proof: yes">&gt;<o:p></o:p></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; mso-layout-grid-align: none">        <span style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">
            <span style="mso-spacerun: yes">&nbsp; </span>&lt;/</span><span style="font-size: 10pt;
                color: maroon; font-family: 'Courier New'; mso-no-proof: yes">region</span><span
                    style="font-size: 10pt; color: blue; font-family: 'Courier New'; mso-no-proof: yes">&gt;<o:p></o:p></span></p>
    <p class="MsoNormal" style="margin: 0in 0in 10pt">        <span style="font-size: 10pt; color: blue; line-height: 115%; font-family: 'Courier New';
            mso-no-proof: yes">&lt;/</span><span style="font-size: 10pt; color: maroon; line-height: 115%;
                font-family: 'Courier New'; mso-no-proof: yes">ncache</span><span style="font-size: 10pt;
                    color: blue; line-height: 115%; font-family: 'Courier New'; mso-no-proof: yes">&gt;</span></p>
			      </li>
	      </ol>
			                 
			    <br><P><strong>Note:</strong>
	        
			    <ul><li>Calling new Configuration() only reads the &lt;nhibernate&gt; section. </li>
		          <li>Calling no-parameter version of cfg.Configure() configures NHibernate from app.config if   it contains &lt;nhibernate-configuration&gt;, otherwise hibernate.cfg.xml is   used. </li>
          </ul>
<br><br>
		        <h4 class="dth4">See Also</h4>
		    <A href="configure_cache.html">Configure the   Cache</A> | <A href="run_app.html">Run your NHibernate based Application</A><BR>
	      <!-- End of Document -->
          <DIV class="footer">
				<P>&nbsp;</P>
				<HR>
				<P>
					<A href="mailto:support@alachisoft.com?subject=Alachisoft NCache 4.4 Documentation Feedback: Using NHibernate">
						Send comments on this topic.</A>				</P>
				<P>
					<a>Copyright &copy; 2005-2015 Alachisoft. All rights reserved.</a>
				</P>
		  </DIV>
		  <P class="MsoBodyText2">
				<o:p></o:p>
		  </P>
	</div>
	</body>
</html>